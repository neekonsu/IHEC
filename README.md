# IHEC portal dataset metadata scraping program

The IHEC epigenome data portal provides an intuitive way to access large amounts of epigenome experiments across several consortia. The portal provides interfaces to retreive metadata for select experiments, and this program uses that metadata to generate `LeanContext` files, which are a struct I created to port metadata from the "Roadmap To The Epigenome" to my ChromHMM pipeline. Example outputs of the program as well as the raw metadata from IHEC can be found across the repository. Please read through the `main` function for more information on the individual output files.

## Problem statement

While the IHEC data portal provides an intuitive graphical interface for selecting and downloading experimental data, it lacks a simplified approach to consolidating metadata for a large sum of datasets in order to run certain tools like ChromHMM, which require specific attributes of the data for analysis. Ultimately, the solution to this deficiency would be for IHEC to ammend their existing metadata download function to include filters for speicifc attributes as well as data schemas to remove the need for excessive post-processing, which stymies easy analysis. My solution provides a temporary bridge between the IHEC metadata and the generic analysis tools by stripping the metadata and scraping the most commonly relevant features for these analysis tools. The `LeanContext` file that the program outputs is the resulting condensed metadata, and it can be used for a variety of purposes. I implement the `LeanContext` information in my companion ChromHMM repository, in which I use my `metadata_to_cmft` go package to convert the `LeanContext` to the `CMFT` (Cell Mark File Table) format required to binarize `.bed` files with ChromHMM. I chose to create two separate packages, `IHEC` and `metadata_to_cmft`, in order to expose this tool to the research community. The `LeanContext` format is applicable to a wide variety of analyses, so I wanted to ensure that it be available to those in need of the efficient formatting.

## Demonstration

![Demonstration of CLI](./run.GIF)